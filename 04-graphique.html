<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr-fr" xml:lang="fr-fr"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.32">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Julien Martin">
<meta name="description" content="En cours de traduction">
<title>4&nbsp; Figures ‚Äì Sur le chemin de l'enf-R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./05-programmation.html" rel="next">
<link href="./03-donnees.html" rel="prev">
<link href="./images/cover/book_fav.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2486e1f0a3ee9ee1fc393803a1361cdb.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-6561bbde787c299e21493071c8edc6ff.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-c0dc7ac2c5723ded4848ec98b3ba37c0.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Pas de r√©sultats",
    "search-matching-documents-text": "documents trouv√©s",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SLXFYRXJR4"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-SLXFYRXJR4', { 'anonymize_ip': true});
</script>
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><img src="images/cover/book_hex_fr.png" class="img-fluid" width="50"> Chemin enf-R</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Recherche"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-flag" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-flag" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-bi-flag">
<li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/Rway/04-graphics_short.html">
 <span class="dropdown-text">English</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link active" href="./902-donnees.html" aria-current="page"> 
<span class="menu-text">Donn√©es</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://biostats-uottawa.github.io/"> 
<span class="menu-text">Biostats uOttawa</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://biostats-uottawa.github.io/bioXx58/"> 
<span class="menu-text">Biostats with R (BioXx58)</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://biostats-uottawa.github.io/bio8940/"> 
<span class="menu-text">Biostats avanc√©es et science ouverte (Bio8940)</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/biostats-uottawa/enfR/" title="Code source" class="quarto-navigation-tool px-1" aria-label="Code source"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="T√©l√©charger" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="T√©l√©charger"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Sur-le-chemin-de-l-enf-R.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            T√©l√©charger PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Sur-le-chemin-de-l-enf-R.epub">
              <i class="bi bi-journal pe-1"></i>
            T√©l√©charger ePub
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Basculer le mode sombre"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Basculer en mode lecteur">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre lat√©rale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-debut.html">Utiliser R</a></li><li class="breadcrumb-item"><a href="./04-graphique.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Figures</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre lat√©rale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pr√©face</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Utiliser R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-debut.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Pour commencer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-base.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Quelques notions de base sur R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-donnees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Donn√©es</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-graphique.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Figures</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-programmation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Programmation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Rapports reproductibles avec Quarto</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Contr√¥le de version avec Git et GitHub</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Principes de statistique</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./25-puissance.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Analyse de puissance avec R et G*Power</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Mod√®les lin√©aires</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./31-reg_lin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Corr√©lation et r√©gression lin√©aire simple</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./32-t_test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Comparaison de deux √©chantillons</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./33-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">ANOVA √† un crit√®re de classification</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./34-anova_mult.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">ANOVA √† crit√®res multiples : plans factoriels et hi√©rarchiques</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./35-reg_mult.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">R√©gression multiple</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./36-ancova_glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">ANCOVA et mod√®le lin√©aire g√©n√©ral</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Mod√®les lin√©aires g√©n√©ralis√©s</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./42-model_freq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Analyse de donn√©es de fr√©quence: Tableaux de contingence, mod√®les log-lin√©aires et r√©gression de Poisson</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Mod√®les mixtes</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Mod√®les additifs g√©n√©ralis√©s</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Analyses multivari√©es</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Approche Bayesienne</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./901-bibliographie.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R√©f√©rences</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Annexes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./902-donnees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Donn√©es utilis√©es dans le livre</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table des mati√®res</h2>
   
  <ul>
<li><a href="#sec-baseplot" id="toc-sec-baseplot" class="nav-link active" data-scroll-target="#sec-baseplot"><span class="header-section-number">4.1</span> Graphiques de base simples en R</a></li>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2"><span class="header-section-number">4.2</span> <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span></a></li>
  <li>
<a href="#graphiques-simples" id="toc-graphiques-simples" class="nav-link" data-scroll-target="#graphiques-simples"><span class="header-section-number">4.3</span> Graphiques simples</a>
  <ul class="collapse">
<li><a href="#diagrammes-de-dispersion-nuages-de-points-scatter-plots" id="toc-diagrammes-de-dispersion-nuages-de-points-scatter-plots" class="nav-link" data-scroll-target="#diagrammes-de-dispersion-nuages-de-points-scatter-plots"><span class="header-section-number">4.3.1</span> Diagrammes de dispersion (nuages de points, Scatter plots)</a></li>
  <li><a href="#histogrammes" id="toc-histogrammes" class="nav-link" data-scroll-target="#histogrammes"><span class="header-section-number">4.3.2</span> Histogrammes</a></li>
  <li><a href="#bo%C3%AEtes-%C3%A0-moustache-box-plots" id="toc-bo√Ætes-√†-moustache-box-plots" class="nav-link" data-scroll-target="#bo%C3%AEtes-%C3%A0-moustache-box-plots"><span class="header-section-number">4.3.3</span> Bo√Ætes √† moustache (Box plots)</a></li>
  <li><a href="#diagrammes-en-violon-violin-plots" id="toc-diagrammes-en-violon-violin-plots" class="nav-link" data-scroll-target="#diagrammes-en-violon-violin-plots"><span class="header-section-number">4.3.4</span> Diagrammes en violon (Violin plots)</a></li>
  <li><a href="#sec-dotcharts" id="toc-sec-dotcharts" class="nav-link" data-scroll-target="#sec-dotcharts"><span class="header-section-number">4.3.5</span> Diagramme en pointill√©s (Dot charts)</a></li>
  <li><a href="#diagrammes-en-paires" id="toc-diagrammes-en-paires" class="nav-link" data-scroll-target="#diagrammes-en-paires"><span class="header-section-number">4.3.6</span> Diagrammes en paires</a></li>
  <li><a href="#graphique-de-conditionnement-coplots" id="toc-graphique-de-conditionnement-coplots" class="nav-link" data-scroll-target="#graphique-de-conditionnement-coplots"><span class="header-section-number">4.3.7</span> Graphique de conditionnement (Coplots)</a></li>
  <li><a href="#r%C3%A9sum%C3%A9-de-la-fonction-du-graphique" id="toc-r√©sum√©-de-la-fonction-du-graphique" class="nav-link" data-scroll-target="#r%C3%A9sum%C3%A9-de-la-fonction-du-graphique"><span class="header-section-number">4.3.8</span> R√©sum√© de la fonction du graphique</a></li>
  </ul>
</li>
  <li>
<a href="#sec-mult-graphs" id="toc-sec-mult-graphs" class="nav-link" data-scroll-target="#sec-mult-graphs"><span class="header-section-number">4.4</span> Graphiques multiples</a>
  <ul class="collapse">
<li><a href="#r-de-base" id="toc-r-de-base" class="nav-link" data-scroll-target="#r-de-base"><span class="header-section-number">4.4.1</span> R de base</a></li>
  <li><a href="#ggplot2-1" id="toc-ggplot2-1" class="nav-link" data-scroll-target="#ggplot2-1"><span class="header-section-number">4.4.2</span> <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span></a></li>
  </ul>
</li>
  <li><a href="#sec-custom-plot" id="toc-sec-custom-plot" class="nav-link" data-scroll-target="#sec-custom-plot"><span class="header-section-number">4.5</span> Personnalisation de ggplots</a></li>
  <li><a href="#sec-export-plots" id="toc-sec-export-plots" class="nav-link" data-scroll-target="#sec-export-plots"><span class="header-section-number">4.6</span> Exportation des parcelles</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/biostats-uottawa/enfR/edit/main/04-graphique.qmd" class="toc-action"><i class="bi bi-github"></i>Modifier cette page</a></li><li><a href="https://github.com/biostats-uottawa/enfR/issues/new" class="toc-action"><i class="bi empty"></i>Faire part d'un probl√®me</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-debut.html">Utiliser R</a></li><li class="breadcrumb-item"><a href="./04-graphique.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Figures</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-graphics-r" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Figures</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><!--course website Links--><!--cran Links--><!--RStudio--><!--style guides--><!--Package Links--><!--Editors--><!--Bioconductor Links--><!--GitHub Links--><!--R markdown Links--><!--ggplot Links--><!--Basics links--><!--Data links--><!--Resource Links--><!--Misc Links--><!--Add by Augustin--><!-- besoin d'ajouter
ajouter des informations sur ggplot
refaire le diagramme avec mermaid
faire une description extensive de ggplot
--><p>La synth√®se de vos donn√©es, sous forme num√©rique ou graphique, est un √©l√©ment important (bien que souvent n√©glig√©) de toute analyse de donn√©es. Par chance, R dispose d‚Äôexcellentes capacit√©s graphiques et peut √™tre utilis√© pour produire des graphiques pour l‚Äôexploration initiale des donn√©es, la validation de mod√®les ou des figures tr√®s complexes destin√©es √† la publication.</p>
<p>Il existe trois syst√®mes principaux pour produire des graphiques dans R :</p>
<ul>
<li><p>Les graphiques de base de R</p></li>
<li><p><code>lattice</code> <span class="emoji" data-emoji="package">üì¶</span></p></li>
<li><p><code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span></p></li>
</ul>
<p>Le syst√®me graphique R de base est le syst√®me de tra√ßage original qui existe (et qui a √©volu√©) depuis les premiers jours de R. Lors de la cr√©ation de graphiques avec base R, nous avons tendance √† utiliser des fonctions de haut niveau (comme la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code>) pour cr√©er notre graphique, puis utiliser une ou plusieurs fonctions de bas niveau (comme les fonctions <code><a href="https://rdrr.io/r/graphics/lines.html">lines()</a></code>, <code><a href="https://rdrr.io/r/graphics/text.html">text()</a></code>, etc.) pour ajouter des informations suppl√©mentaires √† ces graphiques.</p>
<p>Cela peut sembler un peu bizarre (et prendre du temps) lorsque vous commencez √† cr√©er des graphiques fantaisistes dans R, mais cela vous permet de personnaliser presque tous les aspects de votre graphique et de le complexifier avec des couches successives. Le revers de cette flexibilit√© est que vous devrez souvent prendre de nombreuses d√©cisions sur la mani√®re dont vous souhaitez que votre graphique se pr√©sente plut√¥t que de compter sur le logiciel pour prendre ces d√©cisions √† votre place. Cela dit, il est g√©n√©ralement tr√®s rapide et facile de g√©n√©rer des graphiques exploratoires simples √† l‚Äôaide de graphiques R de base.</p>
<p>Le syst√®me lattice est impl√©ment√© dans le paquet <code>lattice</code> <span class="emoji" data-emoji="package">üì¶</span> qui est pr√© install√© avec l‚Äôinstallation standard de R. Cependant, il n‚Äôest pas charg√© par d√©faut, vous devez donc d‚Äôabord utiliser l‚Äôappeler <code><a href="https://lattice.r-forge.r-project.org/">library(lattice)</a></code> pour acc√©der √† toutes les fonctions de graphiques. Contrairement aux graphiques de base de R, les graphiques lattices sont g√©n√©ralement g√©n√©r√©s en une seule fois √† l‚Äôaide d‚Äôune seule fonction. Il n‚Äôest donc pas n√©cessaire d‚Äôutiliser des fonctions de tra√ßage de haut et bas niveau pour personnaliser l‚Äôaspect d‚Äôun graphique.</p>
<p>Les graphiques lattices prennent √©galement plus de d√©cisions pour vous en ce qui concerne l‚Äôaspect des graphiques, mais cela a un co√ªt, car la personnalisation des graphiques lattices pour qu‚Äôils aient exactement l‚Äôaspect que vous souhaitez peut s‚Äôav√©rer plus complexe. Les graphiques lattices se pr√™tent particuli√®rement bien au tra√ßage de donn√©es multidimensionnelles complexes √† l‚Äôaide de graphiques en panel (√©galement appel√©s graphiques en treillis). Nous verrons quelques exemples de ces types de graphiques plus loin dans ce chapitre.</p>
<p><code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span> est bas√© sur le livre <em>Grammar of Graphics</em> (la grammaire de graphiques) de <span class="citation" data-cites="wilkinson2005">Wilkinson (<a href="06-quarto.html#ref-wilkinson2005" role="doc-biblioref">2005</a>)</span>. (Vous trouverez un r√©sum√© int√©ressant du livre <a href="https://www.jstatsoft.org/article/view/v017b03/v17b03.pdf">ici</a>).</p>
<p>La <em>Grammaire des graphique</em> d√©compose les figures en leurs diff√©rents √©l√©ments (par ex. les statistiques sous-jacentes, l‚Äôarrangement g√©om√©trique, le th√®me, voir <a href="#fig-ggplot-str" class="quarto-xref">Figure&nbsp;<span>4.1</span></a>).</p>
<p>Les utilisateurs sont ainsi en mesure de manipuler chacun de ces composants (i.e. couches) et de produire une figure sur mesure r√©pondant √† leurs besoins sp√©cifiques.</p>
<div id="fig-ggplot-str" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ggplot-str-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/plot/graph-grammar.png" class="img-fluid quarto-figure quarto-figure-center figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-str-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.1: La grammaire des graphique. Visuel de Thomas de Beus
</figcaption></figure>
</div>
<p>Chacun de ces syst√®mes a ses forces et ses faiblesses et nous les utilisons souvent de mani√®re interchangeable. Dans ce chapitre, nous vous pr√©senterons les graphiques de base de R et les fonction de base de<code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>. Il est important de noter que <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span> n‚Äôest pas <strong>obligatoire</strong> pour faire des figures ‚Äúfantaisistes‚Äù et informatives dans R. Si vous pr√©f√©rez utiliser les graphiques de base de R, n‚Äôh√©sitez pas √† continuer, car presque tous les graphiques de <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span> peuvent √™tre cr√©√©es avec les graphiques de base de R (nous utilisons souvent l‚Äôune ou l‚Äôautre approche en fonction de ce que nous faisons). La diff√©rence entre <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span> et la base R est la fa√ßon dont vous <em>obtenez</em> le produit final plut√¥t que des diff√©rences substantielles dans le produit final lui-m√™me. Il s‚Äôagit n√©anmoins d‚Äôune croyance r√©pandue, probablement due au fait qu‚Äôil est (√† notre avis du moins) plus facile d‚Äôobtenir une silhouette mod√©r√©ment attrayante avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span> car de nombreuses d√©cisions esth√©tiques sont prises pour l‚Äôutilisateur, sans qu‚Äôil sache n√©cessairement qu‚Äôune d√©cision a √©t√© prise !</p>
<p>Dans cet esprit, commen√ßons √† cr√©er quelques figures.</p>
<section id="sec-baseplot" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="sec-baseplot">
<span class="header-section-number">4.1</span> Graphiques de base simples en R</h2>
<p>Il existe de nombreuses fonctions dans R pour produire des graphiques, des plus simples aux plus complexes. Il est impossible de couvrir tous les aspects de la production de graphiques en R dans ce livre. Nous vous pr√©senterons donc la plupart des m√©thodes courantes de repr√©sentation graphique des donn√©es et nous d√©crirons comment personnaliser vos graphiques plus tard dans la <a href="#sec-custom-plot" class="quarto-xref"><span>Section 4.5</span></a>.</p>
<p>La fonction de haut niveau la plus couramment utilis√©e pour produire des graphiques en R est (sans surprise) la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> fonction. Par exemple, repr√©sentons le poids (<code>weight</code>) des licornes de notre jeu de donn√©es <code>licornes</code> (‚Äú<code>unicorns.csv</code>‚Äù) que nous avons import√© dans la <a href="03-donnees.html#sec-import-fnc" class="quarto-xref"><span>Section 3.3.2</span></a>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">licornes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"data/unicorns.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">weight</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot1-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Dispersion des donn√©es de poids des licornes.</figcaption></figure>
</div>
</div>
</div>
<p>R a trac√© les valeurs de <code>weight</code> (sur l‚Äôaxe des y) en fonction d‚Äôun indice puisque nous ne tra√ßons qu‚Äôune seule variable. L‚Äôindice est simplement l‚Äôordre des valeurs de <code>weight</code> dans le jeu de donn√©es (allant de la valeur 1 √† 97). Le nom de variable <code>weight</code> a √©t√© automatiquement inclus comme nom de l‚Äôaxe des y et les √©chelles des axes ont √©t√© automatiquement d√©finies.</p>
<p>Si nous n‚Äôavions inclus que la variable <code>weight</code> plut√¥t que <code>licornes$weight</code>, la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> affichera une erreur car la variable <code>weight</code> n‚Äôexiste que dans le jeu de donn√©es <code>licornes</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">weight</span><span class="op">)</span></span>
<span><span class="co">## Error in plot(weight) : object 'weight' not found (Erreur dans plot(weight) : objet 'weight' non trouv√©)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Comme de nombreuses fonctions de graphique de base de R n‚Äôont pas d‚Äôargument <code>data =</code> pour sp√©cifier directement le nom du jeu de donn√©es, nous pouvons utiliser la fonction <code><a href="https://rdrr.io/r/base/with.html">with()</a></code> en combinaison avec la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> comme raccourci.</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">licornes</span>, <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">weight</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pour tracer un nuage de points d‚Äôune variable num√©rique par rapport √† une autre variable num√©rique, il suffit d‚Äôinclure les deux variables en tant qu‚Äôarguments lors de l‚Äôutilisation de la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code>. Par exemple, pour tracer <code>fluffyness</code> sur l‚Äôaxe des y et <code>weight</code> sur l‚Äôaxe des x.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">licornes</span><span class="op">$</span><span class="va">weight</span>, y <span class="op">=</span> <span class="va">licornes</span><span class="op">$</span><span class="va">fluffyness</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot4-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Dispersion des donn√©es de fluffyness en fonction du poids des licornes.</figcaption></figure>
</div>
</div>
</div>
<p>Il existe une approche √©quivalente pour ces types de graphiques, ce qui est souvent source de confusion au d√©but. Vous pouvez √©galement utiliser la notation de formule lors de l‚Äôutilisation de la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code>. Cependant, contrairement √† la m√©thode pr√©c√©dente, la m√©thode de la formule exige que vous sp√©cifiiez d‚Äôabord la variable de l‚Äôaxe des y, puis un <code>~</code> puis la variable de l‚Äôaxe des x.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">fluffyness</span> <span class="op">~</span> <span class="va">weight</span>, data <span class="op">=</span> <span class="va">licornes</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-plot5" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-plot5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="04-graphique_files/figure-html/fig-plot5-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-plot5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.2: Dispersion des donn√©es de fluffyness en fonction du poids des licornes (avec la notation de formule).
</figcaption></figure>
</div>
</div>
</div>
<p>Ces deux approches √©tant √©quivalentes, nous vous sugg√©rons de choisir celle que vous pr√©f√©rez et de l‚Äôappliquer.</p>
<p>Vous pouvez √©galement sp√©cifier le type de graphique que vous souhaitez tracer en utilisant l‚Äôargument <code>type =</code>. Vous pouvez tracer seulement les points (<code>type = "p"</code> c‚Äôest l‚Äôoption par d√©faut), seulement les lignes (<code>type = "l"</code>), les points et les lignes connect√©s (<code>type = "b"</code>), les points et les lignes avec les lignes passant par les points (<code>type = "o"</code>) et les points vides reli√©s par des lignes (<code>type = "c"</code>). Par exemple, utilisons nos connaissances acquises gr√¢ce √† la <a href="02-base.html#sec-funcs" class="quarto-xref"><span>Section 2.4</span></a> pour g√©n√©rer deux vecteurs de nombres (<code>mon_x</code> et <code>mon_y</code>), puis tra√ßons l‚Äôun par rapport √† l‚Äôautre en utilisant diff√©rents <code>type =</code> pour voir quels types de graphiques on obtient. Ne vous pr√©occupez pas de la ligne de code <code>par(mfrow = c(2, 2))</code> pour l‚Äôinstant. Nous l‚Äôutilisons simplement pour diviser fen√™tre des graphiques afin de pouvoir placer les quatre graphiques sur la m√™me fen√™tre pour gagner de la place. Voir <a href="#sec-mult-graphs" class="quarto-xref"><span>Section 4.4</span></a> dans le chapitre pour plus de d√©tails √† ce sujet. Le graphique en haut √† gauche est de <code>type = "l"</code>, le graphe en haut √† droite de <code>type = "b"</code> en bas √† gauche de <code>type = "o"</code> et en bas √† droite est de <code>type = "c"</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mon_x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="va">mon_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">20</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">mon_x</span>, <span class="va">mon_y</span>, type <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">mon_x</span>, <span class="va">mon_y</span>, type <span class="op">=</span> <span class="st">"b"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">mon_x</span>, <span class="va">mon_y</span>, type <span class="op">=</span> <span class="st">"o"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">mon_x</span>, <span class="va">mon_y</span>, type <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot6-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Pr√©sentation des 4 types principaux de representation avec la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code>.</figcaption></figure>
</div>
</div>
</div>
<p>Il est vrai que les graphiques que nous avons produites jusqu‚Äô√† pr√©sent n‚Äôont rien d‚Äôextraordinaire. Cependant, la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> est incroyablement polyvalente et peut g√©n√©rer un large √©ventail de graphiques que vous pouvez personnaliser √† votre guise. Nous verrons comment personnaliser les ggplots dans la <a href="#sec-custom-plot" class="quarto-xref"><span>Section 4.5</span></a>. Pour l‚Äôanecdote, la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> est √©galement ce que l‚Äôon appelle une fonction g√©n√©rique, ce qui signifie qu‚Äôelle peut modifier son comportement par d√©faut en fonction du type d‚Äôobjet utilis√© comme argument. Vous en verrez un exemple dans la <a href="31-reg_lin.html#sec-simple-lm" class="quarto-xref"><span>Section 9.6</span></a> o√π nous utilisons la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> pour g√©n√©rer des graphiques de diagnostic des r√©sidus d‚Äôun objet de type mod√®le lin√©aire (je parie que vous √™tes impatient !).</p>
</section><section id="ggplot2" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="ggplot2">
<span class="header-section-number">4.2</span> <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>
</h2>
<p>Comme nous l‚Äôavons d√©j√† mentionn√©, la grammaire de <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span> n√©cessite plusieurs √©l√©ments pour produire un graphique (<a href="#fig-ggplot-str" class="quarto-xref">Figure&nbsp;<span>4.1</span></a>) et au moins 3 √©l√©ments sont n√©cessaire :</p>
<ul>
<li>un jeu de donn√©es (‚Äú<code>data =</code>‚Äù)</li>
<li>un syst√®me de cartographie d√©finissant x et y (‚Äú<code>aes()</code>‚Äù)</li>
<li>une couche g√©om√©trique (‚Äú<code>geom_...()</code>‚Äù)</li>
</ul>
<p>Les donn√©es et la cartographie sont fournies dans le cadre de l‚Äôappel de la fonction <code>ggplot()</code> √† l‚Äôaide des arguments <code>data</code> et <code>mapping</code>. La couche g√©om√©trique est ajout√©e √† l‚Äôaide de fonctions sp√©cifiques.</p>
<p>En fait, toutes les couches sont n√©cessaires, mais les valeurs simples par d√©faut des autres couches sont automatiquement fournies.</p>
<p>Pour refaire la <a href="#fig-plot5" class="quarto-xref">Figure&nbsp;<span>4.2</span></a>, qui ne contient qu‚Äôun nuage de points, nous pouvons utiliser la fonction <code>geom_point()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">licornes</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">fluffyness</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-plot5-gg" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-plot5-gg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="04-graphique_files/figure-html/fig-plot5-gg-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-plot5-gg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.3: Dispersion des donn√©es de fluffyness en fonction du poids des licornes (avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>).
</figcaption></figure>
</div>
</div>
</div>
<p>Maintenant que nous avons une compr√©hension de base de <code>ggplot()</code> nous pouvons explorer quelques graphiques en utilisant √† la fois le code de base de R et le code <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span></p>
</section><section id="graphiques-simples" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="graphiques-simples">
<span class="header-section-number">4.3</span> Graphiques simples</h2>
<section id="diagrammes-de-dispersion-nuages-de-points-scatter-plots" class="level3" data-number="4.3.1"><h3 data-number="4.3.1" class="anchored" data-anchor-id="diagrammes-de-dispersion-nuages-de-points-scatter-plots">
<span class="header-section-number">4.3.1</span> Diagrammes de dispersion (nuages de points, Scatter plots)</h3>
<p>Type de graphique simple tr√®s utile pour √©tudier la relation entre deux variables, par exemple. Voici le code pour le faire en utilisant les fonctions R de base (<a href="#fig-plot5" class="quarto-xref">Figure&nbsp;<span>4.2</span></a>)</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">fluffyness</span> <span class="op">~</span> <span class="va">weight</span>, data <span class="op">=</span> <span class="va">licornes</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ou <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span> (<a href="#fig-plot5-gg" class="quarto-xref">Figure&nbsp;<span>4.3</span></a>)</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">licornes</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">fluffyness</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Un grand avantage de <code>ggplot()</code> pour les nuages de points simples est la facilit√© avec laquelle nous pouvons ajouter une r√©gression, une ligne plus lisse (loess ou gam) au graphique en utilisant <code>geom_smooth()</code>pour ajouter une couche statistique au graphique.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">licornes</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">fluffyness</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_smooth</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot5-gg-line-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Nuage de point avec une r√©gression LOESS.</figcaption></figure>
</div>
</div>
</div>
</section><section id="histogrammes" class="level3" data-number="4.3.2"><h3 data-number="4.3.2" class="anchored" data-anchor-id="histogrammes">
<span class="header-section-number">4.3.2</span> Histogrammes</h3>
<p>Les histogrammes de fr√©quence sont utiles pour se faire une id√©e de la distribution des valeurs d‚Äôune variable num√©rique. En utilisant la base de R, la fonction <code><a href="https://rdrr.io/r/graphics/hist.html">hist()</a></code> prend un tableau num√©rique comme argument principal. Dans <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>, il faut utiliser <code>geom_histogram()</code>. G√©n√©rons un histogramme des valeurs de taille (<code>height</code> dans le jeu de donn√©es).</p>
<p>Avec la base de R ;</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">height</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot7-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Histogramme des valeurs de taille avec la base de R.</figcaption></figure>
</div>
</div>
</div>
<p>avec ggplot2 :</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">licornes</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot7-gg-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Histogramme des valeurs de taille avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>.</figcaption></figure>
</div>
</div>
</div>
<p>Les fonctions <code><a href="https://rdrr.io/r/graphics/hist.html">hist()</a></code> et <code>geom_histogram()</code> cr√©ent automatiquement les points de rupture (ou ‚Äúbins‚Äù) dans l‚Äôhistogramme, √† moins que vous n‚Äôindiquiez le contraire √† l‚Äôaide de l‚Äôargument <code>breaks =</code> pour sp√©cifier le contraire. Par exemple, disons que nous voulons tracer notre histogramme avec des points de rupture tous les 1 cm de taille des licornes. Nous g√©n√©rons d‚Äôabord une s√©quence allant de z√©ro √† la valeur maximale de <code>height</code> (18 arrondi vers le haut) par pas de 1 √† l‚Äôaide de la fonction <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code>. Nous pouvons ensuite utiliser cette s√©quence avec l‚Äôargument <code>breaks =</code>. Tant qu‚Äôon y est, rempla√ßons √©galement le titre moche par quelque chose d‚Äôun peu mieux en utilisant l‚Äôargument <code>main =</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">brk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">18</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">height</span>, breaks <span class="op">=</span> <span class="va">brk</span>, main <span class="op">=</span> <span class="st">"Taille des licornes"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot8-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Histogramme des valeurs de taille avec des points de ruptures √† chaque cm (R de base).</figcaption></figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">brk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">18</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">licornes</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span>breaks <span class="op">=</span> <span class="va">brk</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Taille des licornes"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot8-gg-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Histogramme des valeurs de taille avec des points de ruptures √† chaque cm (<code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
<p>Vous pouvez aussi afficher l‚Äôhistogramme sous forme de proportion plut√¥t que de fr√©quence en utilisant l‚Äôargument <code>freq = FALSE</code> dans la fonction <code><a href="https://rdrr.io/r/graphics/hist.html">hist()</a></code> ou en indiquant <code>aes(y = after_stat(density))</code> dans <code>geom_histogram()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">brk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">18</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">height</span>,</span>
<span>  breaks <span class="op">=</span> <span class="va">brk</span>, main <span class="op">=</span> <span class="st">"Taille des licornes"</span>,</span>
<span>  freq <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">licornes</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="fu">after_stat</span><span class="op">(</span><span class="va">density</span><span class="op">)</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="va">brk</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Taille des licornes"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Une alternative au trac√© d‚Äôun simple histogramme est d‚Äôajouter une <a href="https://en.wikipedia.org/wiki/Kernel_density_estimation">densit√© du noyau (‚ÄúKernel density‚Äù)</a> au graphique. Dans la version de base de R, vous devez d‚Äôabord calculer les estimations de la densit√© du noyau √† l‚Äôaide de la fonction <code><a href="https://rdrr.io/r/stats/density.html">density()</a></code> puis ajouter les estimations √† un graphique sous forme de ligne √† l‚Äôaide de la fonction <code><a href="https://rdrr.io/r/graphics/lines.html">lines()</a></code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dens</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">height</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">height</span>,</span>
<span>  breaks <span class="op">=</span> <span class="va">brk</span>, main <span class="op">=</span> <span class="st">"Taille des licornes"</span>,</span>
<span>  freq <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html">lines</a></span><span class="op">(</span><span class="va">dens</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot10-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Histogramme des valeurs de taille avec la courbe de densit√© (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<p>Avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>, vous pouvez simplement ajouter la fonction <code>geom_density()</code> au graphique :</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">licornes</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="fu">after_stat</span><span class="op">(</span><span class="va">density</span><span class="op">)</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="va">brk</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Taille des licornes"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot10-gg-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Histogramme des valeurs de taille avec la courbe de densit√© (avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
</section><section id="bo√Ætes-√†-moustache-box-plots" class="level3" data-number="4.3.3"><h3 data-number="4.3.3" class="anchored" data-anchor-id="bo√Ætes-√†-moustache-box-plots">
<span class="header-section-number">4.3.3</span> Bo√Ætes √† moustache (Box plots)</h3>
<p>D‚Äôaccord, nous allons le dire franchement, nous adorons les bo√Ætes √† moustache et leur relation √©troite avec le diagramme en violon. Les ‚Äúboxplots‚Äù (ou ‚Äúbox-and-whisker‚Äù plots pour leur nom complet) sont tr√®s utiles pour r√©sumer graphiquement la distribution d‚Äôune variable, identifier d‚Äô√©ventuelles valeurs inhabituelles et comparer les distributions entre diff√©rents groupes. La raison pour laquelle nous les aimons est leur facilit√© d‚Äôinterpr√©tation, leur transparence et leur rapport donn√©es-encre relativement √©lev√© (c‚Äôest-√†-dire qu‚Äôils transmettent efficacement une grande quantit√© d‚Äôinformations). Nous vous sugg√©rons d‚Äôutiliser les ‚Äúboxplots‚Äù autant que possible lorsque vous explorez vos donn√©es et de r√©sister √† la tentation d‚Äôutiliser les diagrammes en b√¢tons (‚Äúbarplots‚Äù) plus omnipr√©sent (m√™me avec des barres d‚Äôerreur standard ou d‚Äôintervalles de confiance √† 95 %). Le probl√®me des diagrammes en b√¢tons (ou diagrammes en dynamite) est qu‚Äôils cachent au lecteur des informations importantes telles que la distribution des donn√©es et qu‚Äôils supposent que les barres d‚Äôerreur (ou les intervalles de confiance) sont sym√©triques par rapport √† la moyenne. Bien s√ªr, c‚Äôest √† vous de d√©cider ce que vous faites, mais si vous √™tes tent√© d‚Äôutiliser des diagrammes en b√¢tons, cherchez ‚Äúdynamite plots are evil‚Äù (les diagrammes de dynamite sont diaboliques) ou voyez <a href="http://users.stat.umn.edu/~rend0020/Teaching/STAT8801-2015Spring/handouts/24-dynamite.pdf">ici</a> ou <a href="https://thenode.biologists.com/leaving-bar-five-steps/research/">ici</a> pour une discussion plus compl√®te.</p>
<p>Pour cr√©er un ‚Äúboxplot‚Äù dans R, nous utilisons la fonction <code><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot()</a></code>. Par exemple, cr√©ons un ‚Äúboxplot‚Äù de la variable <code>weight</code> du jeu de donn√©es <code>licornes</code>. Nous pouvons √©galement inclure un nom pour l‚Äôaxe des y en utilisant l‚Äôargument <code>ylab =</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">weight</span>, ylab <span class="op">=</span> <span class="st">"Poids (g)"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot11-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Bo√Æte √† moustache du poids des licornes (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">licornes</span>, <span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="va">weight</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Poids (g)"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot11-gg-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Bo√Æte √† moustache du poids des licornes (avec ‚Äúggplot2‚Äù <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
<p>La ligne horizontale √©paisse au milieu de la bo√Æte est la m√©diane de la variable <code>weight</code> (environ 11 g). La ligne sup√©rieure de la bo√Æte est le quartile sup√©rieur (75<sup>e</sup> percentile) et la ligne inf√©rieure est le quartile inf√©rieur (25<sup>e</sup> percentile). La distance entre les quartiles sup√©rieur et inf√©rieur est appel√©e l‚Äôintervalle interquartile et repr√©sente les valeurs de <code>weight</code> pour 50 % des donn√©es. Les lignes verticales en pointill√©s sont appel√©es moustaches et leur longueur est √©gale √† 1,5 x l‚Äôintervalle interquartile. Les points trac√©s en dehors des moustaches repr√©sentent des observations inhabituelles potentielles. Cela ne signifie pas qu‚Äôils sont inhabituels, mais simplement qu‚Äôils m√©ritent un examen plus approfondi. Nous recommandons d‚Äôutiliser les ‚Äúboxplots‚Äù en combinaison avec les ‚Äúdotplots‚Äù de Cleveland pour identifier les observations potentiellement inhabituelles (voir la <a href="#sec-dotcharts" class="quarto-xref"><span>Section 4.3.5</span></a> pour plus de d√©tails). Ce qui est int√©ressant avec les ‚Äúboxplots‚Äù, c‚Äôest qu‚Äôils ne fournissent pas seulement une mesure de la tendance centrale (m√©diane), mais qu‚Äôils vous donnent √©galement une id√©e de la distribution des donn√©es. Si la ligne m√©diane se trouve plus ou moins au milieu de la bo√Æte (entre les quartiles sup√©rieur et inf√©rieur) et que les moustaches sont plus ou moins de la m√™me longueur, vous pouvez √™tre raisonnablement s√ªr que la distribution de vos donn√©es est sym√©trique.</p>
<p>Si nous voulons examiner comment la distribution d‚Äôune variable change entre diff√©rents niveaux d‚Äôun facteur, il faut utiliser la notation de formule avec la fonction <code><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot()</a></code>. Par exemple, tra√ßons notre variable <code>weight</code> mais cette fois-ci, voyons comment elle √©volue entre chaque niveau de la variable <code>food</code>. Lorsque nous utilisons la notation de formule avec <code><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot()</a></code> nous pouvons utiliser l‚Äôargument <code>data =</code> afin d‚Äô√©conomiser de la frappe. Nous introduirons √©galement un nom pour l‚Äôaxe des x √† l‚Äôaide de l‚Äôargument <code>xlab =</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">weight</span> <span class="op">~</span> <span class="va">food</span>,</span>
<span>  data <span class="op">=</span> <span class="va">licornes</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Poids (g)"</span>, xlab <span class="op">=</span> <span class="st">"Niveau de nutrition"</span></span>
<span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot12-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Comparaison du poids des licornes en fonction du niveau de nutrition (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">licornes</span>, <span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="va">weight</span>, x <span class="op">=</span> <span class="va">food</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Poids (g)"</span>, x <span class="op">=</span> <span class="st">"Niveau de nutrition"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot12-gg-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Comparaison du poids des licornes en fonction du niveau de nutrition (avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
<p>Les niveaux des facteurs sont repr√©sent√©s dans l‚Äôordre d√©fini par notre variable factorielle <code>food</code> (souvent par ordre alphab√©tique). Pour modifier l‚Äôordre, il faut changer l‚Äôordre des niveaux du facteur <code>food</code> dans le jeu de donn√©es √† l‚Äôaide de la fonction <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> puis redessiner le graphique. Tra√ßons notre bo√Æte √† moustache avec nos niveaux de facteurs allant de <code>low</code> √† <code>high</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">licornes</span><span class="op">$</span><span class="va">food</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">food</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"medium"</span>, <span class="st">"high"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">licornes</span>, <span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="va">weight</span>, x <span class="op">=</span> <span class="va">food</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Poids (g)"</span>, x <span class="op">=</span> <span class="st">"Niveau de nutrition"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot13-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Comparaison du poids des licornes en fonction du niveau (tri√©) de nutrition (avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
<p>Nous pouvons √©galement regrouper nos variables selon deux facteurs dans le m√™me graphique. Tra√ßons notre <code>weight</code> mais, cette fois, tra√ßons une bo√Æte s√©par√©e pour chaque niveau <code>food</code> et le traitement des soins parentaux (<code>p_care</code>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">weight</span> <span class="op">~</span> <span class="va">food</span> <span class="op">*</span> <span class="va">p_care</span>,</span>
<span>  data <span class="op">=</span> <span class="va">licornes</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Poids (g)"</span>, xlab <span class="op">=</span> <span class="st">"Niveau de nutrition"</span></span>
<span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot14-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Comparaison du poids des licornes en fonction du niveau de nutrition et de soins parentaux (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">licornes</span>, <span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="va">weight</span>, x <span class="op">=</span> <span class="va">food</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Poids (g)"</span>, x <span class="op">=</span> <span class="st">"Niveau de nutrition"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_grid</span><span class="op">(</span><span class="va">.</span></span>
<span>  <span class="op">~</span> <span class="va">p_care</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot14-gg-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Comparaison du poids des licornes en fonction du niveau de nutrition et de soins parentaux (avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
<p>Ce graphique est beaucoup plus int√©ressant dans <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>, l‚Äôutilisation de <code>facet_grid()</code> permettant de r√©aliser des graphiques similaires en fonction d‚Äôune troisi√®me (ou m√™me d‚Äôune quatri√®me) variable.</p>
</section><section id="diagrammes-en-violon-violin-plots" class="level3" data-number="4.3.4"><h3 data-number="4.3.4" class="anchored" data-anchor-id="diagrammes-en-violon-violin-plots">
<span class="header-section-number">4.3.4</span> Diagrammes en violon (Violin plots)</h3>
<p>Les diagrammes en violon, ou ‚Äúviolin plots‚Äù, sont une combinaison d‚Äôun ‚Äúboxplot‚Äù et d‚Äôun diagramme de densit√© de noyau (vous avez vu un exemple de diagramme de densit√© de noyau dans la section histogramme ci-dessus), le tout en une seule figure. Nous pouvons cr√©er un diagramme en violon dans R √† l‚Äôaide de la fonction <code><a href="https://rdrr.io/pkg/vioplot/man/vioplot.html">vioplot()</a></code> paquet <code>vioplot</code> <span class="emoji" data-emoji="package">üì¶</span>. Vous devrez d‚Äôabord installer ce paquet en utilisant la commade <code>install.packages('vioplot')</code> (comme d‚Äôhabitude). L‚Äôavantage de l‚Äôoption <code><a href="https://rdrr.io/pkg/vioplot/man/vioplot.html">vioplot()</a></code> est qu‚Äôelle s‚Äôutilise √† peu pr√®s de la m√™me mani√®re que la fonction <code><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot()</a></code>. Nous utiliserons √©galement l‚Äôargument <code>col = "lightblue"</code> pour changer la couleur de remplissage en bleu clair.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/TomKellyGenetics/vioplot">vioplot</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/vioplot/man/vioplot.html">vioplot</a></span><span class="op">(</span><span class="va">weight</span> <span class="op">~</span> <span class="va">food</span>,</span>
<span>  data <span class="op">=</span> <span class="va">licornes</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Poids (g)"</span>, xlab <span class="op">=</span> <span class="st">"Niveau de nutrition"</span>,</span>
<span>  col <span class="op">=</span> <span class="st">"lightblue"</span></span>
<span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot16-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Diagramme en violon comparant le niveau poids des licornes en fonction de leurs niveau de nutrition (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<p>Dans le diagramme en violon ci-dessus, nous avons des bo√Ætes famili√®res, comme dans un ‚Äúboxplot‚Äù, pour chaque niveaux de <code>food</code> mais cette fois, la valeur m√©diane est repr√©sent√©e par un cercle blanc. Autour de chaque bo√Æte figure le diagramme de densit√© de noyau qui repr√©sente la distribution des donn√©es pour chaque niveau d‚Äôalimentation.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">licornes</span>, <span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="va">weight</span>, x <span class="op">=</span> <span class="va">food</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_violin</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_boxplot</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Poids (g)"</span>, x <span class="op">=</span> <span class="st">"Niveau de nutrition"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot16-gg-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Diagramme en violon comparant le niveau poids des licornes en fonction de leurs niveau de nutrition (avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
</section><section id="sec-dotcharts" class="level3" data-number="4.3.5"><h3 data-number="4.3.5" class="anchored" data-anchor-id="sec-dotcharts">
<span class="header-section-number">4.3.5</span> Diagramme en pointill√©s (Dot charts)</h3>
<p>Il est extr√™mement important d‚Äôidentifier les observations inhabituelles (appel√©es ‚Äúvaleurs aberrantes‚Äù) dans une variable num√©rique, car elles peuvent influencer les estimations des param√®tres de votre mod√®le statistique ou indiquer une erreur dans vos donn√©es. Un graphique tr√®s utile (bien que sous-estim√©) pour aider √† identifier les valeurs aberrantes est le diagramme en pointill√©s de Cleveland (‚ÄúCleveland‚Äôs dotplot‚Äù). Vous pouvez produire un diagramme en pointill√©s en R tr√®s simplement en utilisant la fonction <code><a href="https://rdrr.io/r/graphics/dotchart.html">dotchart()</a></code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/dotchart.html">dotchart</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">height</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot17-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Diagramme en pointill√©s de la taille des licornes (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<p>Dans le diagramme en pointill√©s ci-dessus, les donn√©es de taille (<code>height</code>) sont repr√©sent√©es le long de l‚Äôaxe des x et les donn√©es sont repr√©sent√©es dans l‚Äôordre dans lequel elles apparaissent dans le jeu de donn√©es <code>licornes</code> sur l‚Äôaxe des y (les valeurs situ√©es en haut de l‚Äôaxe des y apparaissent plus tard dans le jeu de donn√©es et celles situ√©es plus bas apparaissent au d√©but du jeu de donn√©es). Sur ce graphique, une seule valeur s‚Äô√©tend vers la droite √† environ 17 cm, mais elle ne semble pas particuli√®rement importante par rapport aux autres. Un exemple de diagramme √† points avec une observation inhabituelle est donn√© ci-dessous :</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot18-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Diagramme en pointill√©s de la taille des licornes avec une valeur aberrante (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<p>Nous pouvons √©galement regrouper les valeurs dans notre variable <code>height</code> selon une variable factorielle telle que <code>food</code> en utilisant l‚Äôargument <code>groups =</code>. Ceci est utile pour identifier des observations inhabituelles au sein d‚Äôun niveau de facteur qui pourraient √™tre masqu√©es lorsque l‚Äôon examine toutes les donn√©es ensemble.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/dotchart.html">dotchart</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">height</span>, groups <span class="op">=</span> <span class="va">licornes</span><span class="op">$</span><span class="va">food</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot19-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Diagramme en pointill√©s de la taille des licornes en fonction des niveaux de nutrition (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<!-- JULIEN - A FAIRE - Du coup tu veux fair quoi ici ? -->
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggdotchart</span><span class="op">(</span>data <span class="op">=</span> <span class="va">licornes</span>, x <span class="op">=</span> <span class="st">"height"</span>, y <span class="op">=</span> <span class="st">"food"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot19-gg-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Diagramme en pointill√©s de la taille des licornes en fonction des niveaux de nutrition (avec <code>ggpubr</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
</section><section id="diagrammes-en-paires" class="level3" data-number="4.3.6"><h3 data-number="4.3.6" class="anchored" data-anchor-id="diagrammes-en-paires">
<span class="header-section-number">4.3.6</span> Diagrammes en paires</h3>
<p>Dans ce chapitre, nous avons d√©j√† utilis√© la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> pour cr√©er un nuage de points afin d‚Äôexplorer la relation entre deux variables num√©riques. Dans le cas de jeux de donn√©es contenant de nombreuses variables num√©riques, il est souvent utile de cr√©er plusieurs diagrammes de dispersion pour visualiser les relations entre toutes ces variables. Nous pouvons utiliser la fonction <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> pour cr√©er chacun de ces graphiques individuellement, mais il est beaucoup plus facile d‚Äôutiliser la fonction <code><a href="https://rdrr.io/r/graphics/pairs.html">pairs()</a></code>. La fonction <code><a href="https://rdrr.io/r/graphics/pairs.html">pairs()</a></code> cr√©e un nuage de points multi-panneaux (parfois appel√© matrice de nuage de points) qui repr√©sente toutes les combinaisons de variables. Cr√©ons un nuage de points multi-panneaux de toutes les variables num√©riques de notre jeu de donn√©es <code>licornes</code>. Notez que vous devrez peut-√™tre cliquer sur le bouton ‚ÄúZoom‚Äù dans RStudio pour afficher clairement le graphique.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/pairs.html">pairs</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"height"</span>, <span class="st">"weight"</span>, <span class="st">"mane_size"</span>,</span>
<span>  <span class="st">"fluffyness"</span>, <span class="st">"horn_rings"</span></span>
<span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot20-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Nuage de points multi-panneaux repr√©sentants les relations entre toutes les combinaisons de variables du jeu de donn√©es <code>licornes</code>(avec R de base).</figcaption></figure>
</div>
</div>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Ou, de mani√®re √©quivalente, vous pouvez utiliser :</span></span>
<span><span class="co"># pairs(licornes[, 4:8])</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Il faut un peu de temps pour s‚Äôhabituer √† l‚Äôinterpr√©tation d‚Äôun diagramme en paires. Les panneaux sur la diagonale indiquent les noms des variables. La premi√®re rang√©e de graphiques affiche les <code>height</code> sur l‚Äôaxe des y et les variables <code>weight</code>, <code>mane_size</code>, <code>fluffyness</code> et <code>horn_rings</code> sur l‚Äôaxe des x pour chacun des quatre graphiques respectivement. La rang√©e suivante de graphiques comporte <code>weight</code> sur l‚Äôaxe des y et <code>height</code>, <code>mane_size</code>, <code>fluffyness</code> et <code>horn_rings</code> sur l‚Äôaxe des x. Nous interpr√©tons les autres lignes de la m√™me mani√®re, la derni√®re ligne affichant la variable <code>horn_size</code> sur l‚Äôaxe des y et les autres variables sur l‚Äôaxe des x. Nous esp√©rons que vous remarquerez que les graphiques situ√©s sous la diagonale sont les m√™mes que ceux situ√©s au-dessus de la diagonale, mais avec les axes invers√©s.</p>
<p>Pour r√©aliser des diagrammes en paires avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>, vous avez besoin de la fonction <code>ggpairs()</code>du paquet <code>GGally</code> <span class="emoji" data-emoji="package">üì¶</span>. La sortie est assez similaire mais vous n‚Äôavez que la partie inf√©rieure de la matrice des graphiques, vous obtenez un graphique de densit√© sur la diagonale et les corr√©lations sur la partie sup√©rieure du graphique.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggpairs</span><span class="op">(</span><span class="va">licornes</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"height"</span>, <span class="st">"weight"</span>, <span class="st">"mane_size"</span>,</span>
<span>  <span class="st">"fluffyness"</span>, <span class="st">"horn_rings"</span></span>
<span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot21-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Nuage de points multi-panneaux repr√©sentants les relations entre toutes les combinaisons de variables du jeu de donn√©es <code>licornes</code>(avec <code>GGally</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
<p>La fonction <code><a href="https://rdrr.io/r/graphics/pairs.html">pairs()</a></code> peut √™tre modifi√©e pour faire des choses similaires et plus, mais elle est plus complexe. Jetez un coup d‚Äô≈ìil √† l‚Äôexcellent fichier d‚Äôaide de la fonction <code><a href="https://rdrr.io/r/graphics/pairs.html">pairs()</a></code> (<code><a href="https://rdrr.io/r/graphics/pairs.html">?pairs</a></code>), qui fournit tous les d√©tails permettant de faire quelque chose comme la figure ci-dessous.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot22-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Nuage de points multi-panneaux repr√©sentants les relations entre toutes les combinaisons de variables du jeu de donn√©es <code>licornes</code>(avec R de base mais en plus classe).</figcaption></figure>
</div>
</div>
</div>
</section><section id="graphique-de-conditionnement-coplots" class="level3" data-number="4.3.7"><h3 data-number="4.3.7" class="anchored" data-anchor-id="graphique-de-conditionnement-coplots">
<span class="header-section-number">4.3.7</span> Graphique de conditionnement (Coplots)</h3>
<p>Lorsque l‚Äôon examine la relation entre deux variables num√©riques, il est souvent utile de pouvoir d√©terminer si une troisi√®me variable obscurcit ou modifie la relation. Un graphique tr√®s pratique √† utiliser dans ce genre de situations est le graphique de conditionnement (√©galement connu sous le nom de graphique de dispersion conditionnel, ou encore ‚Äúcoplots‚Äù) que nous pouvons cr√©er dans R √† l‚Äôaide de la fonction <code><a href="https://rdrr.io/r/graphics/coplot.html">coplot()</a></code>. La fonction <code><a href="https://rdrr.io/r/graphics/coplot.html">coplot()</a></code> trace les graphiques de deux variables, mais chaque graphique est conditionn√© (<code>|</code>) par une troisi√®me variable. Cette troisi√®me variable peut √™tre soit num√©rique, soit factorielle. √Ä titre d‚Äôexemple, voyons comment la relation entre le nombre d‚Äôanneaux sur la corne (<code>horn_ring</code> ) et le poids (<code>weight</code>) des licornes change en fonction de la taille de la crini√®re (<code>mane_size</code>). Notez que la fonction <code><a href="https://rdrr.io/r/graphics/coplot.html">coplot()</a></code> a un argument <code>data =</code> il n‚Äôest donc pas n√©cessaire d‚Äôutiliser la notation <code>$</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/coplot.html">coplot</a></span><span class="op">(</span><span class="va">horn_rings</span> <span class="op">~</span> <span class="va">weight</span> <span class="op">|</span> <span class="va">mane_size</span>, data <span class="op">=</span> <span class="va">licornes</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot26-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>√âvolution de la relation entre le nombre d‚Äôanneaux sur la corne et le poids en fonction de la taille de la crini√®re chez les licornes (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<p>Pour avoir le m√™me type de graphiques avec <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>, on peut utiliser la fonction <code>gg_coplot()</code> du paquet <code>ggcleveland</code> <span class="emoji" data-emoji="package">üì¶</span> :</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">gg_coplot</span><span class="op">(</span><span class="va">licornes</span>,</span>
<span>  x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">horn_rings</span>,</span>
<span>  faceting <span class="op">=</span> <span class="va">mane_size</span></span>
<span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot27-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>√âvolution de la relation entre le nombre d‚Äôanneaux sur la corne et le poids en fonction de la taille de la crini√®re chez les licornes (avec <code>ggcleveland</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
<p>Il faut un peu de pratique pour interpr√©ter les ‚Äúcoplots‚Äù. Le nombre d‚Äôanneaux sur la corne est repr√©sent√© sur l‚Äôaxe des y et le poids des licornes sur l‚Äôaxe des x. Les six graphiques montrent la relation entre ces deux variables pour diff√©rents intervalles de taille de crini√®re Le diagramme en barres en haut indique la plage de valeurs de tailles de crini√®res pour chacun des graphiques. Les graphiques sont lus de en haut √† gauche (en premier) jusqu‚Äô√† en bas √† droite le long de chaque ligne. Par exemple, le graphique en haut √† gauche montre la relation entre le nombre d‚Äôanneaux sur la corne et le poids des licornes dont la crini√®re est la plus courte (environ 5 - 11 cm). Le graphique en bas √† droite montre la relation entre le nombre d‚Äôannaux sur la corne et le poids des licornes dont la crini√®re est comprise entre 16 et 50 cm de long.</p>
<p>Remarquez que la plage de valeurs de la taille de la crini√®re diff√®re d‚Äôun graphique √† l‚Äôautre et que les plages se chevauchent d‚Äôun graphique √† l‚Äôautre. La fonction <code><a href="https://rdrr.io/r/graphics/coplot.html">coplot()</a></code> fait de son mieux pour diviser les donn√©es afin de s‚Äôassurer qu‚Äôil y a un nombre ad√©quat de points de donn√©es dans chaque graphique. Si vous ne souhaitez pas produire des graphiques avec des donn√©es qui se chevauchent dans le graphique, vous pouvez d√©finir l‚Äôoption <code>overlap =</code> (‚Äúchevauchement‚Äù) √† <code>overlap = 0</code></p>
<p>Vous pouvez √©galement utiliser la fonction <code><a href="https://rdrr.io/r/graphics/coplot.html">coplot()</a></code> avec des variables de conditionnement factorielles.</p>
<p>Avec <code>gg_coplot()</code> (<code>ggcleveland</code> <span class="emoji" data-emoji="package">üì¶</span>) vous devez d‚Äôabord d√©finir le facteur comme num√©rique avant de tracer le graphique et sp√©cifier <code>overlap=0</code>.</p>
<p>Par exemple, nous pouvons examiner la relation entre <code>horn_rings</code> et <code>weight</code> conditionn√©es par le facteur <code>food</code>. Le graphique en haut √† gauche repr√©sente la relation entre <code>horn_rings</code> et <code>weight</code> pour les licornes avec un faible (<code>low</code>) niveau de nutrition. Le graphique en bas √† droite montre la m√™me relation mais pour les licornes avec un haut (<code>high</code>) niveau de nutrition.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/coplot.html">coplot</a></span><span class="op">(</span><span class="va">horn_rings</span> <span class="op">~</span> <span class="va">weight</span> <span class="op">|</span> <span class="va">food</span>, data <span class="op">=</span> <span class="va">licornes</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot28-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>√âvolution de la relation entre le nombre d‚Äôanneaux sur la corne et le poids en fonction du niveau de nutrition chez les licornes (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">licornes</span> <span class="op">&lt;-</span> <span class="fu">mutate</span><span class="op">(</span><span class="va">licornes</span>, food_num <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">food</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">gg_coplot</span><span class="op">(</span><span class="va">licornes</span>,</span>
<span>  x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">horn_rings</span>,</span>
<span>  faceting <span class="op">=</span> <span class="va">food_num</span>, overlap <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot29-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>√âvolution de la relation entre le nombre d‚Äôanneaux sur la corne et le poids en fonction du niveau de nutrition chez les licornes (avec <code>ggcleveland</code> <span class="emoji" data-emoji="package">üì¶</span>).</figcaption></figure>
</div>
</div>
</div>
</section><section id="r√©sum√©-de-la-fonction-du-graphique" class="level3" data-number="4.3.8"><h3 data-number="4.3.8" class="anchored" data-anchor-id="r√©sum√©-de-la-fonction-du-graphique">
<span class="header-section-number">4.3.8</span> R√©sum√© de la fonction du graphique</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 12%">
<col style="width: 37%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">Type de graphique</th>
<th style="text-align: left;">ggplot2</th>
<th style="text-align: left;">Fonction de base de R</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">nuage de points</td>
<td style="text-align: left;"><code>geom_point()</code></td>
<td style="text-align: left;"><code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code></td>
</tr>
<tr class="even">
<td style="text-align: left;">histogramme de fr√©quence</td>
<td style="text-align: left;"><code>geom_histogram()</code></td>
<td style="text-align: left;"><code><a href="https://rdrr.io/r/graphics/hist.html">hist()</a></code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">bo√Æte √† moustache</td>
<td style="text-align: left;"><code>geom_boxplot()</code></td>
<td style="text-align: left;"><code><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot()</a></code></td>
</tr>
<tr class="even">
<td style="text-align: left;">dotplots de Cleveland</td>
<td style="text-align: left;"><code>ggdotchart()</code></td>
<td style="text-align: left;"><code><a href="https://rdrr.io/r/graphics/dotchart.html">dotchart()</a></code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">diagrammes en paires</td>
<td style="text-align: left;"><code>ggpairs()</code></td>
<td style="text-align: left;"><code><a href="https://rdrr.io/r/graphics/pairs.html">pairs()</a></code></td>
</tr>
<tr class="even">
<td style="text-align: left;">graphique de conditionnement</td>
<td style="text-align: left;"><code>gg_coplot()</code></td>
<td style="text-align: left;"><code><a href="https://rdrr.io/r/graphics/coplot.html">coplot()</a></code></td>
</tr>
</tbody>
</table>
<p>Nous esp√©rons que vous avez compris qu‚Äôil est possible de cr√©er facilement des graphiques exploratoires tr√®s instructifs √† l‚Äôaide des graphiques de base de R ou de <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>. Le choix de l‚Äôun ou l‚Äôautre est enti√®rement libre (c‚Äôest ce qui fait l‚Äôint√©r√™t de R, vous pouvez choisir) et nous m√©langeons volontiers les deux pour r√©pondre √† nos besoins. Dans la section suivante, nous verrons comment personnaliser des graphiques de base de R pour leur donner l‚Äôaspect que vous souhaitez.</p>
</section></section><section id="sec-mult-graphs" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="sec-mult-graphs">
<span class="header-section-number">4.4</span> Graphiques multiples</h2>
<section id="r-de-base" class="level3" data-number="4.4.1"><h3 data-number="4.4.1" class="anchored" data-anchor-id="r-de-base">
<span class="header-section-number">4.4.1</span> R de base</h3>
<p>Dans la base de R, l‚Äôune des m√©thodes les plus courantes pour tracer plusieurs graphiques consiste √† utiliser la fonction graphique principale <code><a href="https://rdrr.io/r/graphics/par.html">par()</a></code> pour diviser la fen√™tre de graphiques en un certain nombre de sections d√©finies avec l‚Äôargument <code>mfrow =</code>. Avec cette m√©thode, il faut d‚Äôabord sp√©cifier le nombre de lignes, puis de colonnes de graphiques que vous souhaitez, puis ex√©cuter le code pour chaque graphique. Par exemple, pour tracer deux graphiques c√¥te √† c√¥te, nous utiliserions <code>par(mfrow = c(1, 2))</code> pour diviser la fen√™tre en une ligne et deux colonnes.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">weight</span>, <span class="va">licornes</span><span class="op">$</span><span class="va">fluffyness</span>,</span>
<span>      xlab <span class="op">=</span> <span class="st">"Poids"</span>,</span>
<span>      ylab <span class="op">=</span> <span class="st">"Niveau de douceur"</span>,</span>
<span>      main <span class="op">=</span> <span class="st">"a)"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">fluffyness</span> <span class="op">~</span> <span class="va">food</span>, data <span class="op">=</span> <span class="va">licornes</span>, cex.axis <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>      xlab <span class="op">=</span> <span class="st">"Niveau de nutrition"</span>,</span>
<span>      ylab <span class="op">=</span> <span class="st">"Niveau de douceur"</span>,</span>
<span>      main <span class="op">=</span> <span class="st">"b)"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/plot55-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Niveau de douceur des licornes en fonction de leurs a) poids et de leurs b) niveau de nutrition (avec R de base).</figcaption></figure>
</div>
</div>
</div>
<p>Une fois que vous avez termin√© vos graphiques, n‚Äôoubliez pas de r√©initialiser votre fen√™tre graphique √† la normale avec <code>par(mfrow = c(1,1))</code>.</p>
</section><section id="ggplot2-1" class="level3" data-number="4.4.2"><h3 data-number="4.4.2" class="anchored" data-anchor-id="ggplot2-1">
<span class="header-section-number">4.4.2</span> <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>
</h3>
<p>En plus des fonctions <code>facet_grid()</code> et <code>facet_wrap()</code> qui permettent de r√©p√©ter et d‚Äôorganiser facilement plusieurs graphiques en fonction de variables sp√©cifiques, il y a beaucoup de mani√®re d‚Äôorganiser plusieurs graphiques <code>ggplots2</code> <span class="emoji" data-emoji="package">üì¶</span> ensemble. L‚Äôapproche que nous recommandons est d‚Äôutiliser le paquet <code>patchwork</code> <span class="emoji" data-emoji="package">üì¶</span>.</p>
<p>Vous devrez d‚Äôabord l‚Äôinstaller (si vous ne l‚Äôavez pas encore) et l‚Äôappeler (<code><a href="https://patchwork.data-imaginist.com">library(patchwork)</a></code>).</p>
<div class="cell">
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"patchwork"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com">patchwork</a></span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Une note importante : pour ceux qui ont utilis√© la base R pour produire leurs figures et qui sont familiers avec l‚Äôutilisation de <code>par(mfrow = c(2,2))</code> (qui permet de tracer quatre figures sur deux lignes et deux colonnes), sachez que cela ne fonctionne pas avec les objets de <code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span>. Vous devrez utiliser soit le paquet <code>patchwork</code> <span class="emoji" data-emoji="package">üì¶</span> ou d‚Äôautres paquets tels que <code>gridArrange</code> <span class="emoji" data-emoji="package">üì¶</span> ou <code>cowplot</code> <span class="emoji" data-emoji="package">üì¶</span> ou convertir le <code>ggplot</code> en objets grobs.</p>
<p>Pour tracer les deux graphiques ensemble, il faut assigner chaque figure √† un objet distinct, puis utiliser ces objets lorsque l‚Äôon utilise <code>patchwork</code> <span class="emoji" data-emoji="package">üì¶</span>.</p>
<p>Nous pouvons donc g√©n√©rer 2 figures et les assigner √† des objets. Comme vous pouvez le constater, les figures n‚Äôapparaissent pas dans la fen√™tre graphique. Elles n‚Äôappara√Ætront que lorsque vous appellerez l‚Äôobjet.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">premiere_figure</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span></span>
<span>  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">height</span>, y <span class="op">=</span> <span class="va">fluffyness</span>, color <span class="op">=</span> <span class="va">food</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">licornes</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_smooth</span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_grid</span><span class="op">(</span><span class="va">block</span> <span class="op">~</span> <span class="va">p_care</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">deuxieme_figure</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span></span>
<span>  <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">fluffyness</span>, color <span class="op">=</span> <span class="va">food</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">licornes</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_smooth</span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_grid</span><span class="op">(</span><span class="va">block</span> <span class="op">~</span> <span class="va">p_care</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Deux options simples et imm√©diates s‚Äôoffrent √† nous avec <code>patchwork</code> <span class="emoji" data-emoji="package">üì¶</span> : disposer les figures les unes sur les autres (sp√©cifi√©es avec un <code>/</code>) ou arranger les figures c√¥te √† c√¥te (sp√©cifi√© soit avec un <code>+</code> ou un <code>|</code>). Essayons de tracer les deux figures, l‚Äôune au-dessus de l‚Äôautre.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">premiere_figure</span> <span class="op">/</span> <span class="va">deuxieme_figure</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/side-by-side-patchwork-1.png" class="img-fluid figure-img" style="width:85.0%"></p>
<figcaption>Exemple de disposition de figures l‚Äôune sur l‚Äôautre avec <code>patchwork</code> <span class="emoji" data-emoji="package">üì¶</span>.</figcaption></figure>
</div>
</div>
</div>
<p><em>Jouons un peu</em>: Essayez de cr√©er une version juxtapos√©e de la figure ci-dessus (indice : essayez les autres op√©rateurs).</p>
<p>Nous pouvons aller plus loin et assigner des figures imbriqu√©es <code>patchwork</code> <span class="emoji" data-emoji="package">üì¶</span> √† un objet et l‚Äôutiliser √† son tour pour cr√©er des √©tiquettes pour les figures individuelles.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">figure_imbriquees</span> <span class="op">&lt;-</span> <span class="va">premiere_figure</span> <span class="op">/</span> <span class="va">deuxieme_figure</span></span>
<span></span>
<span><span class="va">figure_imbriquees</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://patchwork.data-imaginist.com/reference/plot_annotation.html">plot_annotation</a></span><span class="op">(</span>tag_levels <span class="op">=</span> <span class="st">"A"</span>, tag_suffix <span class="op">=</span> <span class="st">")"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="04-graphique_files/figure-html/labelled-nested-1.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Exemple d‚Äôutilisation de figures imbriqu√©es <code>patchowrk</code> <span class="emoji" data-emoji="package">üì¶</span>.</figcaption></figure>
</div>
</div>
</div>
</section></section><section id="sec-custom-plot" class="level2" data-number="4.5"><h2 data-number="4.5" class="anchored" data-anchor-id="sec-custom-plot">
<span class="header-section-number">4.5</span> Personnalisation de ggplots</h2>
<p><strong>Partir se balader pour √™tre √©dit√©</strong> <span class="emoji" data-emoji="unicorn">ü¶Ñ</span></p>
</section><section id="sec-export-plots" class="level2" data-number="4.6"><h2 data-number="4.6" class="anchored" data-anchor-id="sec-export-plots">
<span class="header-section-number">4.6</span> Exportation des parcelles</h2>
<p>Cr√©er des graphiques dans R, c‚Äôest bien, mais que faire si vous souhaitez utiliser ces graphiques dans votre th√®se, votre rapport ou votre publication ? Une option consiste √† cliquer sur le bouton ‚ÄúExporter‚Äù dans l‚Äôonglet ‚ÄúGraphiques‚Äù de RStudio. Vous pouvez √©galement exporter vos graphiques de R vers un fichier externe en √©crivant du code dans votre script R (<em>option privil√©gi√©e</em>). L‚Äôavantage de cette approche est que vous avez un peu plus de contr√¥le sur le format de sortie et qu‚Äôelle vous permet √©galement de g√©n√©rer (ou de mettre √† jour) des graphiques automatiquement chaque fois que vous ex√©cutez votre script. Vous pouvez exporter vos figures dans de nombreux formats diff√©rents, mais les plus courants sont pdf, png, jpeg et tiff.</p>
<p>Par d√©faut, R (et donc RStudio) dirige tous les graphiques que vous cr√©ez vers la fen√™tre de graphiques. Pour enregistrer votre graphique dans un fichier externe, vous devez d‚Äôabord rediriger votre graphique vers un p√©riph√©rique graphique diff√©rent. Pour ce faire, vous pouvez utiliser l‚Äôune des nombreuses fonctions de p√©riph√©rique graphique pour d√©marrer une nouvelle fen√™tre graphique. Par exemple, pour enregistrer un graphique au format pdf, nous utiliserons la fonction <code><a href="https://rdrr.io/r/grDevices/pdf.html">pdf()</a></code>. Le premier argument de la fonction <code><a href="https://rdrr.io/r/grDevices/pdf.html">pdf()</a></code> est le chemin d‚Äôacc√®s et le nom du fichier que nous voulons cr√©er (n‚Äôoubliez pas d‚Äôinclure l‚Äôextension .pdf). Une fois que nous avons utilis√© la fonction <code><a href="https://rdrr.io/r/grDevices/pdf.html">pdf()</a></code> nous pouvons alors √©crire tout le code que nous avons utilis√© pour cr√©er notre graphique, y compris les param√®tres graphiques tels que le r√©glage des marges et la division de la fen√™tre graphique. Une fois le code ex√©cut√©, il faut fermer le dispositif de graphique pdf √† l‚Äôaide de la fonction <code><a href="https://rdrr.io/r/grDevices/dev.html">dev.off()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/pdf.html">pdf</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"output/my_plot.pdf"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4.1</span>, <span class="fl">4.4</span>, <span class="fl">4.1</span>, <span class="fl">1.9</span><span class="op">)</span>, xaxs <span class="op">=</span> <span class="st">"i"</span>, yaxs <span class="op">=</span> <span class="st">"i"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">weight</span>, <span class="va">licornes</span><span class="op">$</span><span class="va">fluffyness</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"weight (g)"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"shoot area (cm"</span><span class="op">^</span><span class="st">"2"</span>, <span class="st">")"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">200</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"l"</span>,</span>
<span>  las <span class="op">=</span> <span class="fl">1</span>, cex.axis <span class="op">=</span> <span class="fl">0.8</span>, tcl <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span>,</span>
<span>  pch <span class="op">=</span> <span class="fl">16</span>, col <span class="op">=</span> <span class="st">"dodgerblue1"</span>, cex <span class="op">=</span> <span class="fl">0.9</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html">text</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">28</span>, y <span class="op">=</span> <span class="fl">190</span>, label <span class="op">=</span> <span class="st">"A"</span>, cex <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si nous voulons sauvegarder ce graphique au format png, il nous suffit d‚Äôutiliser la fonction <code><a href="https://rdrr.io/r/grDevices/png.html">png()</a></code>, plus ou moins de la m√™me mani√®re.</p>
<div class="cell">
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html">png</a></span><span class="op">(</span><span class="st">"output/my_plot.png"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4.1</span>, <span class="fl">4.4</span>, <span class="fl">4.1</span>, <span class="fl">1.9</span><span class="op">)</span>, xaxs <span class="op">=</span> <span class="st">"i"</span>, yaxs <span class="op">=</span> <span class="st">"i"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">licornes</span><span class="op">$</span><span class="va">weight</span>, <span class="va">licornes</span><span class="op">$</span><span class="va">fluffyness</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"weight (g)"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"shoot area (cm"</span><span class="op">^</span><span class="st">"2"</span>, <span class="st">")"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">200</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"l"</span>,</span>
<span>  las <span class="op">=</span> <span class="fl">1</span>, cex.axis <span class="op">=</span> <span class="fl">0.8</span>, tcl <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span>,</span>
<span>  pch <span class="op">=</span> <span class="fl">16</span>, col <span class="op">=</span> <span class="st">"dodgerblue1"</span>, cex <span class="op">=</span> <span class="fl">0.9</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html">text</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">28</span>, y <span class="op">=</span> <span class="fl">190</span>, label <span class="op">=</span> <span class="st">"A"</span>, cex <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>D‚Äôautres fonctions utiles sont : <code><a href="https://rdrr.io/r/grDevices/png.html">jpeg()</a></code>, <code><a href="https://rdrr.io/r/grDevices/png.html">tiff()</a></code> et <code><a href="https://rdrr.io/r/grDevices/png.html">bmp()</a></code>. Des arguments suppl√©mentaires dans ces fonctions vous permettent de modifier la taille, la r√©solution et la couleur d‚Äôarri√®re-plan de vos images enregistr√©es. Voir aussi <code><a href="https://rdrr.io/r/grDevices/png.html">?png</a></code> pour plus de d√©tails.</p>
<p><code>ggplot2</code> <span class="emoji" data-emoji="package">üì¶</span> fournir une fonction tr√®s utile : <code>ggsave()</code>, qui simplifie grandement la sauvegarde des graphiques, mais ne fonctionne que pour les ggplots.</p>
<p>Apr√®s avoir produit un graphique et l‚Äôavoir vu dans votre IDE, vous pouvez simplement ex√©cuter ggsave() avec l‚Äôargument ad√©quat pour sauvegarder le dernier ggplot produit. Vous pouvez aussi, bien s√ªr, sp√©cifier quel trac√© doit √™tre sauvegard√©.</p>
<div class="cell">
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggsave</span><span class="op">(</span><span class="st">"file.png"</span><span class="op">)</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-wilkinson2005" class="csl-entry" role="listitem">
Wilkinson, L. 2005. The <span>Grammar</span> of <span>Graphics</span>. <span>Springer Science &amp; Business Media</span>.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copi√©");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copi√©");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/biostats-uottawa\.github\.io\/enfR\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./03-donnees.html" class="pagination-link" aria-label="Donn√©es">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Donn√©es</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./05-programmation.html" class="pagination-link" aria-label="Programmation">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Programmation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="https://biostats-uottawa.github.io/people.html">Julien Martin</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/biostats-uottawa/enfR/edit/main/04-graphique.qmd" class="toc-action"><i class="bi bi-github"></i>Modifier cette page</a></li><li><a href="https://github.com/biostats-uottawa/enfR/issues/new" class="toc-action"><i class="bi empty"></i>Faire part d'un probl√®me</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>Ce livre a √©t√© cr√©e avec <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>


</body></html>
